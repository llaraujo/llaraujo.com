##  CI ##

RewriteEngine On
RewriteCond %{REQUEST_URI} ^/system.*
RewriteRule ^(.*)$ index.php?/$1 [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ index.php?/$1 [L]

##  ARQUIVO DEFAULT ##
DirectoryIndex index.html index.htm index.php

AddDefaultCharset UTF-8
DefaultLanguage pt-BR

##AddHandler php5-cgi .php .html .htm .tpl
##AddHandler application/x-httpd-php .php .html .htm .tpl
##AddType application/x-httpd-php .html .htm .tpl

AddHandler application/javascript .js
AddType application/javascript .js

AddCharset UTF-8 .js .htm .htm .css

<IfModule mod_gzip.c>
    mod_gzip_on       Yes
    mod_gzip_dechunk  Yes
    mod_gzip_item_include handler   ^cgi-script$
    mod_gzip_item_include mime      ^text/.*
    mod_gzip_item_include mime      ^text/css.*
    mod_gzip_item_include mime      ^text/html.*
    mod_gzip_item_include mime      ^application/x-javascript.*
    mod_gzip_item_include mime      ^application/javascript.*
    mod_gzip_item_include mime      ^image/x-icon.*
    mod_gzip_item_include mime      ^image/vnd.microsoft.icon.*
    mod_gzip_item_include mime      ^image/gif.*
    mod_gzip_item_include mime      ^image/jpeg.*
    mod_gzip_item_include mime      ^image/png.*
    mod_gzip_item_include mime      ^image/jpg.*
    mod_gzip_item_include mime      ^text/plain.*
    mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</IfModule>

<ifModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 2 hours"
    ExpiresByType text/html "access plus 2 hours"
    ExpiresByType image/gif "access plus 1 weeks"
    ExpiresByType image/jpeg "access plus 1 weeks"
    ExpiresByType image/png "access plus 1 weeks"
    ExpiresByType text/css "access plus 2 weeks"
    ExpiresByType image/x-icon "access plus 2 weeks"
    ExpiresByType image/vnd.microsoft.icon "access plus 2 weeks"
    ExpiresByType text/javascript "access plus 2 weeks"
    ExpiresByType application/x-javascript "access plus 2 weeks"
    ExpiresByType application/javascript "access plus 2 weeks"
    ExpiresByType text/plain "access plus 2 weeks"
</ifModule>


<IfModule mod_deflate.c>
    #The following line is enough for .js and .css
    AddOutputFilter DEFLATE js css text/html

    #The following line also enables compression by file content type, for the following list of Content-Type:s
    AddOutputFilterByType DEFLATE text/html text/plain text/xml application/xml

    #The following lines are to avoid bugs with some browsers
    BrowserMatch ^Mozilla/4 gzip-only-text/html
    BrowserMatch ^Mozilla/4\.0[678] no-gzip
    BrowserMatch \bMSIE !no-gzip !gzip-only-text/html 
</IfModule>